<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Vortex Cafe Menu</title>
  <link rel="stylesheet" href="menue.css">
  <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
  <style>
    /* === Smooth Theme Transition === */
    body, .menu-card, .modal-content, .search-input, .category-btn {
      transition: background-color 0.4s ease, color 0.4s ease, border-color 0.4s ease, box-shadow 0.4s ease;
    }

    .theme-fade {
      transition: background-color 0.6s ease, color 0.6s ease, box-shadow 0.6s ease, filter 0.6s ease;
    }
  </style>
</head>
<body>

  <!-- === HEADER === -->
<header class="sticky-header">
  <div class="header-content">
    <!-- Left: logo + title -->
    <div class="logo-container">
      <img
        src="https://i.postimg.cc/ZRQYcx0d/Fitness-Club-1-removebg-preview.png"
        alt="Vortex Logo"
        class="logo-image"
      />
      <h1 class="logo-title">Cafe Menu</h1>
    </div>

    <!-- Right: actions (all in one flex row) -->
    <div class="header-buttons">
      <a
        href="../Suppliment/index.html"
        target="_blank"
        id="supplements-btn"
        class="category-btn"
      >
        Supplements Portal
      </a>

      <!-- ðŸŒ™ DARK MODE TOGGLE -->
      <button id="theme-toggle" class="theme-toggle" aria-label="Toggle dark mode">
        <i data-lucide="moon"></i>
      </button>

      <!-- ðŸ›’ CART BUTTON -->
      <button id="cart-button" class="cart-button" aria-label="Open cart">
        <i data-lucide="shopping-cart"></i>
        <span id="cart-item-count" class="cart-item-count hidden">0</span>
      </button>
    </div>
  </div>
</header>


  <!-- === MAIN CONTENT === -->
  <main class="main-content">
    <div class="filters-container">
      <div class="search-wrapper">
        <i data-lucide="search" class="search-icon"></i>
        <input type="text" id="search-input" placeholder="Search menu items..." class="search-input">
      </div>

      <div id="category-filters" class="category-filters"></div>

      <div class="dietary-filter-wrapper">
        <i data-lucide="filter" class="filter-icon"></i>
        <select id="dietary-filter" class="dietary-filter"></select>
      </div>
    </div>

    <div id="menu-grid" class="menu-grid"></div>

    <div id="loading-spinner" class="loading-spinner hidden">
      <div class="spinner"></div>
    </div>

    <div id="no-items-message" class="no-items-message hidden">
      <p>No items found matching your criteria.</p>
    </div>
  </main>

  <!-- === CART MODAL === -->
  <div id="cart-modal" class="modal-overlay hidden">
    <div class="modal-content cart-modal-content">
      <div class="modal-header">
        <h2 class="modal-title"><i data-lucide="shopping-bag"></i> Your Cart</h2>
        <button id="close-cart-button" class="modal-close-button"><i data-lucide="x"></i></button>
      </div>
      <div id="cart-body" class="modal-body"></div>
    </div>
  </div>

  <!-- === ORDER TRACKING MODAL === -->
  <div id="order-tracking-modal" class="modal-overlay hidden">
    <div id="order-tracking-content" class="modal-content"></div>
  </div>

  <!-- === TEMPLATES === -->
  <template id="menu-item-template">
    <div class="menu-card">
      <div class="card-image-container">
        <img src="" alt="" class="card-image">
        <div class="card-image-placeholder"><span></span></div>
        <div class="dietary-tags"></div>
      </div>
      <div class="card-content">
        <div class="card-header">
          <h3 class="card-title"></h3>
          <span class="card-price"></span>
        </div>
        <p class="card-description"></p>
        <div class="card-nutrition-summary"></div>
        <div class="card-actions">
          <button class="add-to-cart-btn"><i data-lucide="plus" class="icon-sm"></i> Add to Cart</button>
          <button class="info-btn"><i data-lucide="info" class="icon-md"></i></button>
        </div>
      </div>
      <div class="card-nutrition-details hidden"></div>
    </div>
  </template>

  <template id="cart-item-template">
    <div class="cart-item">
      <div class="cart-item-image-container">
        <img src="" alt="" class="cart-item-image">
        <div class="cart-item-placeholder"><span></span></div>
      </div>
      <div class="cart-item-details">
        <h3 class="cart-item-title"></h3>
        <p class="cart-item-price-each"></p>
        <div class="cart-item-quantity-controls">
          <button class="quantity-btn minus-btn"><i data-lucide="minus"></i></button>
          <span class="quantity-text"></span>
          <button class="quantity-btn plus-btn"><i data-lucide="plus"></i></button>
          <button class="remove-btn"><i data-lucide="trash-2"></i></button>
        </div>
      </div>
      <div class="cart-item-subtotal"></div>
    </div>
  </template>

  <!-- === SCRIPTS === -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="script.js"></script>

  <!-- === DARK MODE + SMOOTH TRANSITION SCRIPT === -->
  <script>
    lucide.createIcons();

    const themeToggle = document.getElementById('theme-toggle');
    const body = document.body;

    // Apply saved theme preference
    if (localStorage.getItem('theme') === 'dark') {
      body.classList.add('dark-mode');
      themeToggle.querySelector('i').setAttribute('data-lucide', 'sun');
      lucide.createIcons();
    }

    themeToggle.addEventListener('click', () => {
      // Add transition class for smooth effect
      body.classList.add('theme-fade');

      const isDark = body.classList.toggle('dark-mode');
      themeToggle.querySelector('i').setAttribute('data-lucide', isDark ? 'sun' : 'moon');
      lucide.createIcons();
      localStorage.setItem('theme', isDark ? 'dark' : 'light');

      // Remove fade class after transition ends
      setTimeout(() => body.classList.remove('theme-fade'), 600);
    });
  </script>

</body>
</html>
